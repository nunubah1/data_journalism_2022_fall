---
title: "Millions in out-of-state donations help fuel high-profile Maryland Democratic governor candidates"
author: "Stephen Neukam"
date: "Date here"
output:
  html_document:
    theme: cerulean
    highlight: pygments
    toc: true
    toc_float:
      collapsed: true
      smooth_scroll: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction 

In this notebook, we are reverse engineering the story, [STORY NAME](STORY URL)

## Load libraries

Loading required libraries for this analysis.

```{r echo=FALSE, message=FALSE}
# turn off sci notation
options(scipen=999)
library(tidyverse)
library(lubridate)
library(janitor)

```

## Load and Cleaning Data

In this section, describe the source of the data, write a basic data dictionary for data you are working with, and discuss any caveats or issues you discovered working with this data. 

```{r}
# Load required data

moore_contributions <- read_csv("data/moore_contributions.csv")
# Path to data should be loaded from folder "data" i.e. read_csv("data/name_of_data.csv")
glimpse(moore_contributions)

moore_contributions <- moore_contributions %>% 
  clean_names() %>% 
  mutate(contribution_date = mdy(contribution_date)) %>% 
  select(-x13)
glimpse(moore_contributions)
# Clean required data and prepare for analysis if needed. 




```

## Sentences to Engineer
In this notebook, we are reverse engineering five sentences from the story.

### Sentence 1

* **Sentence text**: “We set the pace in fundraising — including raising more money in Maryland and having 73% of donations $100 or less — because this campaign has inspired thousands of people from all walks of life in Maryland and across the country who see the opportunity to make Wes Moore governor of Maryland and change the trajectories of families who have been left behind,” the campaign said in a statement."

* **Analysis summary**: Wes Moore had 8,647 unique individuals donate less than $100. One of the individuals donated less than $100 82 times. Her name is Delores Parron-Ragland. She was a distinguished social worker who's career spans in the federal government, academia, and clinical practice. She's an outlier however. The top doners 28 to 44 contributions of less than $100 however. 
```{r}
# Put code to reverse engineer sentence here
less_than_hundred_moore_contribs <- moore_contributions %>% 
  filter(contribution_amount < 100)
```

```{r}  
less_than_hundred_moore_contribs <- less_than_hundred_moore_contribs %>%
  group_by(contributor_name) %>% 
  summarise(total = n(), amount = sum(contribution_amount)) %>% 
  arrange(desc(total))
less_than_hundred_moore_contribs
  
# Display results of code below this codeblock

```

### Sentence 2

* **Sentence text**: “Moore, a U.S. Army veteran and bestselling author, built a campaign war chest that included over $2.3 million in out-of-state contributions. Tom Perez, a former leader of the Democratic National Committee, raised nearly $1.7 million in donations from outside Maryland.” 

* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here]
moore_contributions <- moore_contributions %>%
    mutate(contributor_state = case_when(
    str_detect(contributor_address, " AL ") ~ "Alabama",
    str_detect(contributor_address, " AK ") ~  "Alaska",
    str_detect(contributor_address, " AZ ") ~  "Arizona",
    str_detect(contributor_address, " AR ") ~  "Arkansas",
    str_detect(contributor_address, " CA ") ~  "California",
    str_detect(contributor_address, " CO ") ~ "Colorado",
    str_detect(contributor_address, " CT ") ~  "Connecticut",
    str_detect(contributor_address, " DE ") ~  "Delaware",
    str_detect(contributor_address, " FL ") ~  "Florida",
    str_detect(contributor_address, " GA ") ~  "Georgia",
    str_detect(contributor_address, " HI ") ~ "Hawaii",
    str_detect(contributor_address, " ID ") ~  "Idaho",
    str_detect(contributor_address, " IL ") ~  "Illinois",
    str_detect(contributor_address, " IN ") ~  "Indiana",
    str_detect(contributor_address, " IA ") ~  "Iowa",
    str_detect(contributor_address, " KS ") ~ "Kansas",
    str_detect(contributor_address, " KY ") ~  "Kentucky",
    str_detect(contributor_address, " LA ") ~  "Louisiana",
    str_detect(contributor_address, " ME ") ~  "Maine",
    str_detect(contributor_address, " MD ") ~ "Maryland",
    str_detect(contributor_address, " MA ") ~  "Massachusetts",
    str_detect(contributor_address, " MI ") ~  "Michigan",
    str_detect(contributor_address, " MN ") ~ "Minnesota",
    str_detect(contributor_address, " MS ") ~  "Mississippi",
    str_detect(contributor_address, " MO ") ~  "Missouri",
    str_detect(contributor_address, " MN ") ~  "Montana",
    str_detect(contributor_address, " NE ") ~  "Nebraska",
    str_detect(contributor_address, " NV ") ~ "Nevada",
    str_detect(contributor_address, " NH ") ~ "New Hampshire",
    str_detect(contributor_address, " NJ ") ~ "New Jersey",
    str_detect(contributor_address, " NM ") ~ "New Mexico",
    str_detect(contributor_address, " NY ") ~  "New York",
    str_detect(contributor_address, " NC ") ~ "North Carolina",
    str_detect(contributor_address, " ND ") ~ "North Dakota",
    str_detect(contributor_address, " OH ") ~ "Ohio",
    str_detect(contributor_address, " OK ") ~ "Oklahoma", 
    str_detect(contributor_address, " OR ") ~ "Oregon", 
    str_detect(contributor_address, " PA ") ~ "Pennsylvania",
    str_detect(contributor_address, " RI ") ~ "Rhode Island",
    str_detect(contributor_address, " SC ") ~ "South Carolina",
    str_detect(contributor_address, " SD ") ~ "South Dakota",
    str_detect(contributor_address, " TN ") ~ "Tennessee",
    str_detect(contributor_address, " TX ") ~ "Texas",
    str_detect(contributor_address, " UT ") ~ "Utah",
    str_detect(contributor_address, " VT ") ~ "Vermont",
    str_detect(contributor_address, " VA ") ~ "Virginia",
    str_detect(contributor_address, " WA ") ~ "Washington",
    str_detect(contributor_address, " WV ") ~ "West Virginia",
    str_detect(contributor_address, " WI ") ~ "Wisconsin",
    str_detect(contributor_address, " WY ") ~ "Wyoming",
    str_detect(contributor_address, " DC ") ~ "Washington DC",
    TRUE ~ contributor_address
  ))
````

```{r}
# Put code to reverse engineer sentence here]
ny_moore_contribs <- moore_contributions %>%
  filter(str_detect(contributor_address, " NY ")) %>% 
  mutate(contributor_state = "New York")

# Display results of code below this codeblock

```



```{r}
out_of_state_moore_contribs <- moore_contributions %>% 
  filter(!str_detect(contributor_address, "MD"))
```

```{r}
out_of_state_moore_contribs_total <- out_of_state_moore_contribs %>% 
  group_by()
````
### Sentence 3

* **Sentence text**: “The out-of-state fundraising has helped candidates like Moore and Perez make up ground on the financial edge held by Franchot, who still led all candidates with $3.3 million cash on hand at the end of 2021. Moore raised the most money in Maryland out of all the candidates, but also raised over $1.3 million between New York and California.”

* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

### Sentence 4

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

### Sentence 5

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

-30-